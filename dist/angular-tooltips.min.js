/*!
 * Angular Tooltips v0.1.9
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-05-29
 */


!function(a){"use strict";a.module("720kb.tooltips",[]).directive("tooltips",["$window","$compile",function(b,c){var d=8,e=9,f=10,g="_720kb-tooltip-";return{restrict:"A",scope:{},link:function(h,i,j){function k(){I&&v||(v=!0,h.initTooltip(D)),F&&h.tooltipTryPosition(),h.showTooltip()}function l(){h.hideTooltip()}function m(){h.hideTooltip(),h.initTooltip(C)}var n,o,p,q,r,s,t,u,v=!1,w=a.element(i[0]),x=a.element(b.document.getElementsByTagName("body")[0]),y=j.tooltipTitle||j.title||"",z=j.tooltipContent||"",A=j.tooltipShowTrigger||"mouseover",B=j.tooltipHideTrigger||"mouseleave",C=j.tooltipSide||"top",D=C,E=j.tooltipSize||"medium",F="undefined"!=typeof j.tooltipTry&&null!==j.tooltipTry?h.$eval(j.tooltipTry):!0,G=j.tooltipClass||"",H=(j.tooltipSpeed||"medium").toLowerCase(),I="undefined"!=typeof j.tooltipLazy&&null!==j.tooltipLazy?h.$eval(j.tooltipLazy):!0,J="undefined"!=typeof j.tooltipCloseButton&&null!==j.tooltipCloseButton,K=j.tooltipCloseButton||"",L='<div class="_720kb-tooltip '+g+E+'">';J&&(L=L+'<span class="'+g+'close-button" ng-click="hideTooltip()"> '+K+" </span>"),L=L+'<div class="'+g+'title"> {{title}}</div>{{content}} <span class="'+g+'caret"></span></div>',h.title=y,h.content=z,h.parseSpeed=function(){switch(H){case"fast":H=100;break;case"medium":H=450;break;case"slow":H=800;break;default:H=Number(H)}},n=c(L)(h),n.addClass(G),x.append(n),h.isTooltipEmpty=function(){return h.title||h.content?void 0:!0},h.initTooltip=function(a){h.isTooltipEmpty()?n.css("visibility","hidden"):(n.css("visibility",""),r=w[0].offsetHeight,s=w[0].offsetWidth,t=h.getRootOffsetTop(w[0],0),u=h.getRootOffsetLeft(w[0],0),o=n[0].offsetHeight,p=n[0].offsetWidth,h.parseSpeed(),h.tooltipPositioning(a))},h.getRootOffsetTop=function(a){return a.getBoundingClientRect().top},h.getRootOffsetLeft=function(a){return a.getBoundingClientRect().left},h.bindShowTriggers=function(){w.bind(A,k)},h.bindHideTriggers=function(){w.bind(B,l)},h.clearTriggers=function(){w.unbind(A,k),w.unbind(B,l)},h.bindShowTriggers(),h.showTooltip=function(){n.addClass(g+"open"),n.css("transition","opacity "+H+"ms linear"),h.clearTriggers(),h.bindHideTriggers()},h.hideTooltip=function(){n.removeClass(g+"open"),n.css("transition",""),h.clearTriggers(),h.bindShowTriggers()},h.removePosition=function(){n.removeClass(g+"left").removeClass(g+"right").removeClass(g+"top").removeClass(g+"bottom ")},h.tooltipPositioning=function(a){h.removePosition();var b,c;"small"===E?q=d:"medium"===E?q=e:"large"===E&&(q=f),"left"===a&&(b=t+r/2-o/2,c=u-(p+q),n.css("top",b+"px"),n.css("left",c+"px"),n.addClass(g+"left")),"right"===a&&(b=t+r/2-o/2,c=u+s+q,n.css("top",b+"px"),n.css("left",c+"px"),n.addClass(g+"right")),"top"===a&&(b=t-q-o,c=u+s/2-p/2,n.css("top",b+"px"),n.css("left",c+"px"),n.addClass(g+"top")),"bottom"===a&&(b=t+r+q,c=u+s/2-p/2,n.css("top",b+"px"),n.css("left",c+"px"),n.addClass(g+"bottom"))},h.tooltipTryPosition=function(){var a=n[0].offsetHeight,c=n[0].offsetWidth,d=n[0].offsetTop,e=n[0].offsetLeft,f=b.outerWidth,g=b.outerHeight,i=f-(c+e),j=g-(a+d),k=w[0].offsetHeight,l=w[0].offsetWidth,m=w[0].offsetLeft,o=w[0].offsetTop,p=f-(m+l),q=g-(k+o),r={left:e,top:d,bottom:j,right:i},s={left:m,right:p,top:o,bottom:q},t=Object.keys(s).reduce(function(a,b){return s[a]>s[b]?a:b}),u=Object.keys(r).reduce(function(a,b){return r[a]<r[b]?a:b});C!==t&&r[u]<20&&(D=t,h.tooltipPositioning(D),h.initTooltip(t))},a.element(b).bind("resize",m),h.$on("$destroy",function(){a.element(b).unbind("resize",m),h.clearTriggers(),n.remove()}),j.tooltipTitle?j.$observe("tooltipTitle",function(a){h.title=a,h.initTooltip(D)}):j.title&&j.$observe("title",function(a){h.title=a,h.initTooltip(D)}),j.tooltipContent&&j.$observe("tooltipContent",function(a){h.content=a,h.initTooltip(D)})}}}])}(angular);
//# sourceMappingURL=angular-tooltips.sourcemap.map