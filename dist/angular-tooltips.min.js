/*
 * angular-tooltips
 * 1.1.11
 * 
 * Angular.js tooltips module.
 * http://720kb.github.io/angular-tooltips
 * 
 * MIT license
 * Fri May 19 2017
 */
!function(t,e){"use strict";var o="tooltips",i=function(){var t,o=[],i=0,r=function(t){t-i>=15?(o.forEach(function(t){t()}),i=t):e.console.log("Skipped!")},l=function(){e.clearTimeout(t),t=e.setTimeout(function(){e.requestAnimationFrame(r)},500)},n=function(t){t&&o.push(t)};return{add:function(t){o.length||e.addEventListener("resize",l),n(t)},remove:function(){o.length||(e.clearTimeout(t),e.removeEventListener("resize",l))}}}(),r=function(t){var e={};return t.removeAttr(o),void 0!==t.attr("tooltip-template")&&(e["tooltip-template"]=t.attr("tooltip-template"),t.removeAttr("tooltip-template")),void 0!==t.attr("tooltip-template-url")&&(e["tooltip-template-url"]=t.attr("tooltip-template-url"),t.removeAttr("tooltip-template-url")),void 0!==t.attr("tooltip-template-url-cache")&&(e["tooltip-template-url-cache"]=t.attr("tooltip-template-url-cache"),t.removeAttr("tooltip-template-url-cache")),void 0!==t.attr("tooltip-controller")&&(e["tooltip-controller"]=t.attr("tooltip-controller"),t.removeAttr("tooltip-controller")),void 0!==t.attr("tooltip-side")&&(e["tooltip-side"]=t.attr("tooltip-side"),t.removeAttr("tooltip-side")),void 0!==t.attr("tooltip-show-trigger")&&(e["tooltip-show-trigger"]=t.attr("tooltip-show-trigger"),t.removeAttr("tooltip-show-trigger")),void 0!==t.attr("tooltip-hide-trigger")&&(e["tooltip-hide-trigger"]=t.attr("tooltip-hide-trigger"),t.removeAttr("tooltip-hide-trigger")),void 0!==t.attr("tooltip-smart")&&(e["tooltip-smart"]=t.attr("tooltip-smart"),t.removeAttr("tooltip-smart")),void 0!==t.attr("tooltip-class")&&(e["tooltip-class"]=t.attr("tooltip-class"),t.removeAttr("tooltip-class")),void 0!==t.attr("tooltip-show")&&(e["tooltip-show"]=t.attr("tooltip-show"),t.removeAttr("tooltip-show")),void 0!==t.attr("tooltip-close-button")&&(e["tooltip-close-button"]=t.attr("tooltip-close-button"),t.removeAttr("tooltip-close-button")),void 0!==t.attr("tooltip-size")&&(e["tooltip-size"]=t.attr("tooltip-size"),t.removeAttr("tooltip-size")),void 0!==t.attr("tooltip-speed")&&(e["tooltip-speed"]=t.attr("tooltip-speed"),t.removeAttr("tooltip-speed")),e},l=function(t){return e.getComputedStyle?e.getComputedStyle(t,""):t.currentStyle?t.currentStyle:void 0},n=function(o){for(var i,r,l=e.document.querySelectorAll("._exradicated-tooltip"),n=0,p=l.length;n<p;n+=1)if(i=l.item(n),i&&(r=t.element(i),r.data("_tooltip-parent")&&r.data("_tooltip-parent")===o))return r},p=function(t){var e=n(t);e&&e.remove()},a=function(t){if(t){var o=t[0].getBoundingClientRect();return(o.top<0||o.top>e.document.body.offsetHeight||o.left<0||o.left>e.document.body.offsetWidth||o.bottom<0||o.bottom>e.document.body.offsetHeight||o.right<0||o.right>e.document.body.offsetWidth)&&(t.css({top:"",left:"",bottom:"",right:""}),!0)}throw new Error("You must provide a position")},s=function(t){return t.split(" ").map(function(t){return"_"+t}).join(" ")},d=["_top","_left","_bottom","_right","_top _left","_top _right","_bottom _left","_bottom _right"],c=function(t,e,o){for(var i=d.indexOf(s(o)),r=d.length,l=0;l<r&&a(t);l+=1)i+=1,i>=d.length&&(i=0),e.removeClass("_top _left _bottom _right"),e.addClass(d[i])},u=function(){var t={side:"top",showTrigger:"mouseenter",hideTrigger:"mouseleave","class":"",smart:!1,closeButton:!1,size:"",speed:"steady",tooltipTemplateUrlCache:!1,show:null};return{configure:function(e){var o,i=Object.keys(t),r=0;if(e)for(;r<i.length;r+=1)o=i[r],o&&e[o]&&(t[o]=e[o])},$get:function(){return t}}},m=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf","$templateCache",function(o,a,d,u,m,f,g,h){var v=function(o,f,v,C,b){if(v.tooltipTemplate&&v.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-template-url together");if(!v.tooltipTemplateUrl&&!v.tooltipTemplate&&v.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var y,_=s(g.side),w=g.showTrigger,T=g.hideTrigger,S=g.size,$="_"+g.speed;v.tooltipSide=v.tooltipSide||g.side,v.tooltipShowTrigger=v.tooltipShowTrigger||g.showTrigger,v.tooltipHideTrigger=v.tooltipHideTrigger||g.hideTrigger,v.tooltipShow=v.tooltipShow||g.show,v.tooltipClass=v.tooltipClass||g["class"],v.tooltipSmart="true"===v.tooltipSmart||g.smart,v.tooltipCloseButton=v.tooltipCloseButton||g.closeButton.toString(),v.tooltipSize=v.tooltipSize||g.size,v.tooltipSpeed=v.tooltipSpeed||g.speed,v.tooltipAppendToBody="true"===v.tooltipAppendToBody,b(o,function(o,g){var C=r(o),b=t.element(e.document.createElement("tooltip")),A=t.element(e.document.createElement("tip-cont")),B=t.element(e.document.createElement("tip")),z=t.element(e.document.createElement("tip-tip")),E=t.element(e.document.createElement("span")),x=t.element(e.document.createElement("tip-arrow")),P=function(){return A.html()},H=function(t){void 0!==t&&A[0].getClientRects().length>1?b.addClass("_multiline"):b.removeClass("_multiline")},V=function(o){if(B.addClass("_hidden"),v.tooltipSmart)switch(v.tooltipSide){case"top":case"left":case"bottom":case"right":case"top left":case"top right":case"bottom left":case"bottom right":c(B,b,v.tooltipSide);break;default:throw new Error("Position not supported")}if(v.tooltipAppendToBody){var i,r,n,a,s,d=l(z[0]),u=l(x[0]),m=l(B[0]),f=B[0].getBoundingClientRect(),g=t.copy(B),h=0,C=d.length,y=0,_=u.length,w=0,T=m.length,S={},$={},A={};for(B.removeClass("_hidden"),g.removeClass("_hidden"),g.data("_tooltip-parent",b),p(b);h<C;h+=1)i=d[h],i&&d.getPropertyValue(i)&&(S[i]=d.getPropertyValue(i));for(;y<_;y+=1)i=u[y],i&&u.getPropertyValue(i)&&(A[i]=u.getPropertyValue(i));for(;w<T;w+=1)i=m[w],i&&"position"!==i&&"display"!==i&&"opacity"!==i&&"z-index"!==i&&"bottom"!==i&&"height"!==i&&"left"!==i&&"right"!==i&&"top"!==i&&"width"!==i&&m.getPropertyValue(i)&&($[i]=m.getPropertyValue(i));r=e.parseInt(m.getPropertyValue("padding-top"),10),n=e.parseInt(m.getPropertyValue("padding-bottom"),10),a=e.parseInt(m.getPropertyValue("padding-left"),10),s=e.parseInt(m.getPropertyValue("padding-right"),10),$.top=f.top+e.pageYOffset+"px",$.left=f.left+e.pageXOffset+"px",$.height=f.height-(r+n)+"px",$.width=f.width-(a+s)+"px",g.css($),g.children().css(S),g.children().next().css(A),o&&"true"!==v.tooltipHidden&&(g.addClass("_exradicated-tooltip"),t.element(e.document.body).append(g))}else B.removeClass("_hidden"),o&&"true"!==v.tooltipHidden&&b.addClass("active")},U=function(){v.tooltipAppendToBody?p(b):b.removeClass("active")},k=function st(t){var e,o=t.parent();t[0]&&(t[0].scrollHeight>t[0].clientHeight||t[0].scrollWidth>t[0].clientWidth)&&t.on("scroll",function(){var t=this;e&&u.cancel(e),e=u(function(){var e=n(b),o=b[0].getBoundingClientRect(),i=t.getBoundingClientRect();o.top<i.top||o.bottom>i.bottom||o.left<i.left||o.right>i.right?p(b):e&&V(!0)})}),o&&o.length&&st(o)},O=function(t){t?(b.removeClass("_force-hidden"),z.empty(),z.append(E),z.append(t),u(function(){V()})):(z.empty(),b.addClass("_force-hidden"))},R=function(t){t&&!v.tooltipTemplateUrlCache?a.get(t).then(function(t){t&&t.data&&(b.removeClass("_force-hidden"),z.empty(),z.append(E),z.append(d(t.data)(g)),u(function(){V()}))}):(z.empty(),b.addClass("_force-hidden"))},W=function(t){if(t&&v.tooltipTemplateUrl){var e=h.get(v.tooltipTemplateUrl);"undefined"!=typeof e&&(b.removeClass("_force-hidden"),z.empty(),z.append(E),z.append(d(e)(g)),u(function(){V()}))}else z.empty(),b.addClass("_force-hidden")},I=function(t){t&&(_&&b.removeClass(_),b.addClass(s(t)),_=t)},Y=function(t){t&&(w&&b.off(w),b.on(t,V),w=t)},j=function(t){t&&(T&&b.off(T),b.on(t,U),T=t)},q=function(t){"true"===t?b.addClass("active"):b.removeClass("active")},L=function(t){t&&(y&&B.removeClass(y),B.addClass(t),y=t)},F=function(){"boolean"!=typeof v.tooltipSmart&&(v.tooltipSmart="true"===v.tooltipSmart)},X=function(t){var e="true"===t;e?(E.on("click",U),E.css("display","block")):(E.off("click"),E.css("display","none"))},D=function(e){if(e){var o,i=m(e,{$scope:g}),r=g.$new(!1,g),l=e.indexOf("as");l>=0?(o=e.substr(l+3),r[o]=i):t.extend(r,i),z.replaceWith(d(z)(r)),lt()}},G=function(t){t&&(S&&z.removeClass("_"+S),z.addClass("_"+t),S=t)},J=function(t){t&&($&&b.removeClass("_"+$),b.addClass("_"+t),$=t)},K=v.$observe("tooltipTemplate",O),M=v.$observe("tooltipTemplateUrl",R),N=v.$observe("tooltipTemplateUrlCache",W),Q=v.$observe("tooltipSide",I),Z=v.$observe("tooltipShowTrigger",Y),tt=v.$observe("tooltipHideTrigger",j),et=v.$observe("tooltipShow",q),ot=v.$observe("tooltipClass",L),it=v.$observe("tooltipSmart",F),rt=v.$observe("tooltipCloseButton",X),lt=v.$observe("tooltipController",D),nt=v.$observe("tooltipSize",G),pt=v.$observe("tooltipSpeed",J),at=g.$watch(P,H);E.addClass("close-button"),E.html("&times;"),B.addClass("_hidden"),z.append(E),z.append(v.tooltipTemplate),B.append(z),B.append(x),A.append(o),b.attr(C),b.addClass("tooltips"),b.append(A),b.append(B),f.after(b),v.tooltipAppendToBody&&(i.add(function(){k(b)}),k(b)),i.add(function(){H(),V()}),u(function(){V(),B.removeClass("_hidden"),b.addClass("_ready")}),g.$on("$destroy",function(){K(),M(),N(),Q(),Z(),tt(),et(),ot(),it(),rt(),nt(),pt(),at(),i.remove(),o.off(v.tooltipShowTrigger+" "+v.tooltipHideTrigger)})})};return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:v}}];t.module("720kb.tooltips",[]).provider(o+"Conf",u).directive(o,m)}(angular,window);
//# sourceMappingURL=angular-tooltips.js.map
