/*!
 * Angular Tooltips v0.1.9
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-04-16
 */


!function(a){"use strict";a.module("720kb.tooltips",[]).directive("tooltips",["$window","$compile","$sce","$injector",function(b,c,d,e){var f=e.has("$sanitize"),g=8,h=9,i=10,j="_720kb-tooltip-";return{restrict:"A",scope:{tooltipContent:"=",tooltipTitle:"="},link:function(e,k,l){function m(a,b){f?(e.safeTooltipContent=a[0],e.safeTooltipTitle=a[1]):(a[0]!==b[0]&&(e.safeTooltipContent=d.trustAsHtml(a[0])),a[1]!==b[1]&&(e.safeTooltipTitle=d.trustAsHtml(a[1])))}var n,o,p,q,r,s,t,u,v=!1,w=a.element(k[0]),x=a.element(b.document.getElementsByTagName("body")[0]),y=l.tooltipShowTrigger||"mouseover",z=l.tooltipHideTrigger||"mouseleave",A=l.tooltipSide||"top",B=A,C=l.tooltipSize||"medium",D="undefined"!=typeof l.tooltipTry&&null!==l.tooltipTry?e.$eval(l.tooltipTry):!0,E=l.tooltipClass||"",F=(l.tooltipSpeed||"medium").toLowerCase(),G="undefined"!=typeof l.tooltipLazy&&null!==l.tooltipLazy?e.$eval(l.tooltipLazy):!0,H='<div class="_720kb-tooltip '+j+C+'"><div class="'+j+'title" ng-bind-html="safeTooltipTitle"></div><div ng-bind-html="safeTooltipContent"></div> <span class="'+j+'caret"></span></div>';e.parseSpeed=function(){switch(F){case"fast":F=100;break;case"medium":F=450;break;case"slow":F=800;break;default:F=Number(F)}},n=c(H)(e),n.addClass(E),x.append(n),m([e.tooltipContent,e.tooltipTitle],["",""]),e.$watchGroup(["tooltipContent","tooltipTitle"],function(a,b){m(a,b),e.initTooltip(A)}),e.isTooltipEmpty=function(){return e.tooltipTitle||e.tooltipContent?void 0:!0},e.initTooltip=function(a){e.isTooltipEmpty()||(r=w[0].offsetHeight,s=w[0].offsetWidth,t=e.getRootOffsetTop(w[0],0),u=e.getRootOffsetLeft(w[0],0),o=n[0].offsetHeight,p=n[0].offsetWidth,e.parseSpeed(),e.tooltipPositioning(a))},e.getRootOffsetTop=function(a,b){return null===a.offsetParent?b+a.offsetTop:e.getRootOffsetTop(a.offsetParent,b+a.offsetTop)},e.getRootOffsetLeft=function(a,b){return null===a.offsetParent?b+a.offsetLeft:e.getRootOffsetLeft(a.offsetParent,b+a.offsetLeft)},w.bind(y,function(){G&&v||(v=!0,e.initTooltip(B)),D&&e.tooltipTryPosition(),e.showTooltip()}),w.bind(z,function(){e.hideTooltip()}),e.showTooltip=function(){n.addClass(j+"open"),n.css("transition","opacity "+F+"ms linear")},e.hideTooltip=function(){n.removeClass(j+"open"),n.css("transition","")},e.removePosition=function(){n.removeClass(j+"left").removeClass(j+"right").removeClass(j+"top").removeClass(j+"bottom ")},e.tooltipPositioning=function(a){e.removePosition();var b,c;"small"===C?q=g:"medium"===C?q=h:"large"===C&&(q=i),"left"===a&&(b=t+r/2-o/2,c=u-(p+q),n.css("top",b+"px"),n.css("left",c+"px"),n.addClass(j+"left")),"right"===a&&(b=t+r/2-o/2,c=u+s+q,n.css("top",b+"px"),n.css("left",c+"px"),n.addClass(j+"right")),"top"===a&&(b=t-q-o,c=u+s/2-p/2,n.css("top",b+"px"),n.css("left",c+"px"),n.addClass(j+"top")),"bottom"===a&&(b=t+r+q,c=u+s/2-p/2,n.css("top",b+"px"),n.css("left",c+"px"),n.addClass(j+"bottom"))},e.tooltipTryPosition=function(){var a=n[0].offsetHeight,c=n[0].offsetWidth,d=n[0].offsetTop,f=n[0].offsetLeft,g=b.outerWidth,h=b.outerHeight,i=g-(c+f),j=h-(a+d),k=w[0].offsetHeight,l=w[0].offsetWidth,m=w[0].offsetLeft,o=w[0].offsetTop,p=g-(m+l),q=h-(k+o),r={left:f,top:d,bottom:j,right:i},s={left:m,right:p,top:o,bottom:q},t=Object.keys(s).reduce(function(a,b){return s[a]>s[b]?a:b}),u=Object.keys(r).reduce(function(a,b){return r[a]<r[b]?a:b});r[u]<5&&(B=t,e.initTooltip(t))},a.element(b).bind("resize",function(){e.hideTooltip(),e.initTooltip(A)})}}}])}(angular);
//# sourceMappingURL=angular-tooltips.sourcemap.map